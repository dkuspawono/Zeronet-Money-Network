{
  "db_name": "MoneyNetwork",
  "db_file": "data/moneynetwork.db",
  "version": 2,
  "maps": {
    "users/.+/data.json": {
      "to_table": [
        { "node": "search",
          "table": "search",
          "import_cols": ["user_seq", "tag", "value"]
        },
        { "node": "users",
          "table": "users",
          "import_cols": ["user_seq", "pubkey"]
        } ]
    },
    "users/.+/content.json": {
      "to_keyvalue": [ "cert_user_id", "modified" ]
    }
  },
  "tables": {
    "search": {
      "cols": [
        ["user_seq", "INTEGER"],
        ["tag", "TEXT"],
        ["value", "TEXT"],
        ["json_id", "INTEGER REFERENCES json (json_id)"]
      ],
      "indexes": ["CREATE INDEX search_i1 ON search(value, tag)"],
      "schema_changed": 3
    },
    "users": {
      "cols": [
        ["user_seq", "INTEGER"],
        ["pubkey", "TEXT"],
        ["json_id", "INTEGER REFERENCES json (json_id)"]
      ],
      "indexes": ["CREATE INDEX search_i2 ON users(pubkey)"],
      "schema_changed": 3
    }
  }
}